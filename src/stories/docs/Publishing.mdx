import { Meta } from "@storybook/addon-docs";

<Meta title="Documentation/How to publish to NPM" />

# How to publish the library to NPM

## Publishing the latest package

### 1. Checkout the latest version of the main branch:

```
git checkout main
git pull
```

### 2. Update the library version number:

Can be "minor" or "patch". Almost always use "patch", unless implementing significant changes.

```
npm version patch
```

or the following for a prerelease:

```
npm version prerelease --preid=alpha
```

### 3. Push the newly created version and tag:

```
git push origin main --follow-tags
```

### 4. Build the library:

```
npm run build
```

### 5. Publish the library:

If this is a standard release of the current major version use:

```
npm publish
```

If this is an experimental release, use the "alpha" tag. This will ensure that the "latest" tag doesn't get updated.

```
npm publish --tag alpha
```

## Publishing a legacy package

### 1. Checkout the latest version of the version branch (example: "v1"):

```
git checkout v1
git pull
```

### 2. Update the library version number:

Can be "minor" or "patch". Almost always use "patch", unless implementing significant changes.

```
npm version patch
```

or the following for a prerelease:

```
npm version prerelease --preid=alpha
```

### 3. Push the newly created version and tag:

```
git push origin v1 --follow-tags
```

### 4. Build the library:

```
npm run build
```

### 5. Publish the library:

If this is a standard release use:

```
npm publish --tag v1
```

If this is an experimental release, use the "alpha" tag. This will ensure that the "latest" tag doesn't get updated.

```
npm publish --tag alpha
```
